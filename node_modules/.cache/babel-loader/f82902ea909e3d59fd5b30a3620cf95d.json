{"ast":null,"code":"import _defineProperty from\"/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Consumer}from'../../context';import logo from'../layout/diary.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={infoCity:''};_this.findCity=function(dispatch,e){e.preventDefault();axios.get(\"https://coviddiary.herokuapp.com/search?city=\".concat(_this.state.infoCity)).then(function(res){dispatch({type:'SEARCH_CITY',payload:res.data});_this.setState({'infoCity':''});}).catch(function(err){return console.log(err);});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Consumer,{children:function children(value){var dispatch=value.dispatch;return/*#__PURE__*/_jsxs(\"div\",{className:\" card-body mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Loading...\",style:{width:'179px',height:'122.89px',margin:' 1px auto',display:'block'}}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:_this2.findCity.bind(_this2,dispatch),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group w-full md:w-3/4 px-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg mt-6 w-full h-12 rounded mb-2 focus:outline-none focus:shadow-outline text-xl px-8 shadow-lg dark:bg-gray-1200 dark:placeholder-gray-500 dark:text-gray-200\",style:{margin:'auto',display:'block'},placeholder:\"Search City...\",name:\"infoCity\",value:_this2.state.infoCity,onChange:_this2.onChange,list:\"city_list\"}),/*#__PURE__*/_jsxs(\"datalist\",{id:\"city_list\",children:[/*#__PURE__*/_jsx(\"option\",{children:\" Lucknow \"}),/*#__PURE__*/_jsx(\"option\",{children:\" Delhi \"}),/*#__PURE__*/_jsx(\"option\",{children:\" Gurugram \"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-full mt-6 btn-block mt-2 mb-2 \",style:{margin:'auto',display:'block'},type:\"submit\",children:\"Search\"})]})]});}})});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/himanshujalan/Desktop/projects/react/coviddiary/coviddiary/coviddiary/src/components/info/Search.js"],"names":["React","Component","axios","Consumer","logo","Search","state","infoCity","findCity","dispatch","e","preventDefault","get","then","res","type","payload","data","setState","catch","err","console","log","onChange","target","name","value","width","height","margin","display","bind"],"mappings":"i8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,eAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,C,2FAEMC,CAAAA,M,2TACFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,C,OAGRC,Q,CAAW,SAACC,QAAD,CAAWC,CAAX,CAAiB,CACxBA,CAAC,CAACC,cAAF,GAECT,KAAK,CAACU,GAAN,wDAA0D,MAAKN,KAAL,CAAWC,QAArE,GACAM,IADA,CACK,SAAAC,GAAG,CAAI,CACTL,QAAQ,CAAC,CACLM,IAAI,CAAE,aADD,CAELC,OAAO,CAAEF,GAAG,CAACG,IAFR,CAAD,CAAR,CAIA,MAAKC,QAAL,CAAc,CAAC,WAAY,EAAb,CAAd,EACH,CAPA,EAQAC,KARA,CAQM,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EART,EAUJ,C,OAEDG,Q,CAAW,SAACb,CAAD,CAAM,CACb,MAAKQ,QAAL,oBAAiBR,CAAC,CAACc,MAAF,CAASC,IAA1B,CAAiCf,CAAC,CAACc,MAAF,CAASE,KAA1C,GACH,C,wDAED,iBAAS,iBACL,mBACI,kCACI,KAAC,QAAD,WACC,kBAAAA,KAAK,CAAI,CACN,GAAOjB,CAAAA,QAAP,CAAmBiB,KAAnB,CAAOjB,QAAP,CACA,mBACI,aAAK,SAAS,CAAC,2BAAf,wBAEI,YACI,GAAG,CAAEL,IADT,CAEI,GAAG,CAAC,YAFR,CAGI,KAAK,CAAE,CAAEuB,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAC,UAAzB,CAAqCC,MAAM,CAAE,WAA7C,CAA0DC,OAAO,CAAE,OAAnE,CAHX,EAFJ,cAQJ,cAAM,QAAQ,CAAE,MAAI,CAACtB,QAAL,CAAcuB,IAAd,CAAmB,MAAnB,CAAyBtB,QAAzB,CAAhB,wBACF,aAAK,SAAS,CAAC,iCAAf,wBACU,cAChB,IAAI,CAAC,MADW,CAE5B,SAAS,CAAC,0LAFkB,CAGhB,KAAK,CAAE,CAAEoB,MAAM,CAAE,MAAV,CAAkBC,OAAO,CAAE,OAA3B,CAHS,CAGyC,WAAW,CAAC,gBAHrD,CAIhB,IAAI,CAAC,UAJW,CAKhB,KAAK,CAAE,MAAI,CAACxB,KAAL,CAAWC,QALF,CAMhB,QAAQ,CAAE,MAAI,CAACgB,QANC,CAOhB,IAAI,CAAC,WAPW,EADV,cAUR,kBAAW,EAAE,CAAC,WAAd,wBACG,qCADH,cAEG,mCAFH,cAGG,sCAHH,GAVQ,GADE,cAiBI,eAAQ,SAAS,CAAC,kDAAlB,CAAqE,KAAK,CAAE,CAAEM,MAAM,CAAE,MAAV,CAAkBC,OAAO,CAAE,OAA3B,CAA5E,CAAkH,IAAI,CAAC,QAAvH,oBAjBJ,GARI,GADJ,CAmCH,CAtCD,EADJ,EADJ,CA4CH,C,oBApEgB7B,S,EA8ErB,cAAeI,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Consumer} from '../../context';\nimport logo from '../layout/diary.png'\n\nclass Search extends Component {\n    state = {\n        infoCity: ''\n    };\n    findCity = (dispatch, e) => {\n        e.preventDefault();\n\n         axios.get(`https://coviddiary.herokuapp.com/search?city=${this.state.infoCity}`)\n        .then(res => {\n            dispatch({\n                type: 'SEARCH_CITY',\n                payload: res.data\n            });\n            this.setState({'infoCity': ''});\n        })\n        .catch(err => console.log(err));\n\n    }\n\n    onChange = (e) =>{\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        return (\n            <div>\n                <Consumer>\n                {value => {\n                    const {dispatch} = value;\n                    return(\n                        <div className=\" card-body mb-4 shadow-sm\">\n                           \n                            <img\n                                src={logo}\n                                alt=\"Loading...\"\n                                style={{ width: '179px', height:'122.89px', margin: ' 1px auto', display: 'block' }}\n                            />\n                            \n                    <form onSubmit={this.findCity.bind(this, dispatch)}>       \n                  <div className=\"form-group w-full md:w-3/4 px-2\">\n                            <input\n            type=\"text\"\nclassName=\"form-control form-control-lg mt-6 w-full h-12 rounded mb-2 focus:outline-none focus:shadow-outline text-xl px-8 shadow-lg dark:bg-gray-1200 dark:placeholder-gray-500 dark:text-gray-200\"\n            style={{ margin: 'auto', display: 'block' }}             placeholder=\"Search City...\"\n            name=\"infoCity\"\n            value={this.state.infoCity}\n            onChange={this.onChange}\n            list=\"city_list\"\n          />\n          <datalist  id=\"city_list\">\n             <option> Lucknow </option>\n             <option> Delhi </option>\n             <option> Gurugram </option>\n          </datalist>\n                        </div>\n                        <button className=\"btn btn-primary w-full mt-6 btn-block mt-2 mb-2 \" style={{ margin: 'auto', display: 'block' }} type=\"submit\">\n          Search\n        </button>\n                        </form>\n                        </div>\n  \n\n                     \n                    );\n                }}\n                </Consumer>\n            </div>\n        )\n    }\n}\n\n\n\n\n\n\n\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}